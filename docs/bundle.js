(()=>{"use strict";var e={466:(e,t,n)=>{n.d(t,{Z:()=>h});var o=n(375),r=n.n(o),i=n(638),a=n.n(i),s=n(167),c=n.n(s),l=new URL(n(163),n.b),u=new URL(n(177),n.b),p=new URL(n(531),n.b),d=a()(r()),f=c()(l),m=c()(u),g=c()(p);d.push([e.id,'@font-face{font-family:"Roboto";src:url('+f+') format("truetype")}body{font-family:"Roboto"}*{-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;outline:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}h1{font-size:30px;letter-spacing:3px;color:rgba(170,172,173,.7215686275);margin:0;text-shadow:rgba(0,0,0,.32) 1px 0 10px}h2{color:rgba(255,255,255,.9019607843);font-size:30px;letter-spacing:2px}@media(max-width: 350px){h1{font-size:22px}h2{font-size:22px}}body{background-color:#6978a4;background-image:url('+m+')}.container{position:relative;margin:auto;width:auto;height:auto;max-width:380px;background-color:#66638b;margin-top:10vh;padding-bottom:10px;border-radius:20px;box-shadow:0 0 10px rgba(0,0,0,.8)}.time_and_counter_container{display:flex;justify-content:center;align-items:center;justify-content:space-between;height:50px}.time_and_counter_container .counter{color:rgba(218,218,218,.72);margin-left:25px;width:35px;font-size:20px}.time_and_counter_container .time{color:rgba(218,218,218,.72);width:40px;margin-right:20px;font-size:18px}.buttons_container{display:flex;justify-content:center;align-items:center;justify-content:space-between;height:60px;margin-bottom:10px;padding:0px 20px}.buttons_container .menu{display:flex;justify-content:center;align-items:center;background-color:rgba(255,255,255,.9019607843);height:40px;width:70px;border-radius:20px;box-shadow:0 0 15px rgba(0,0,0,.3);color:#6c6666;cursor:pointer;position:relative;width:40px;height:40px;background-color:#5f9ea0;border-radius:15px}.buttons_container .menu::before{content:"";width:22px;height:15px;top:12px;left:9px;background-image:url('+g+");background-size:cover;position:absolute;opacity:.7}.buttons_container .start{display:flex;justify-content:center;align-items:center;background-color:rgba(255,255,255,.9019607843);height:40px;width:70px;border-radius:20px;box-shadow:0 0 15px rgba(0,0,0,.3);color:#6c6666;cursor:pointer}.buttons_container .stop{display:flex;justify-content:center;align-items:center;background-color:rgba(255,255,255,.9019607843);height:40px;width:70px;border-radius:20px;box-shadow:0 0 15px rgba(0,0,0,.3);color:#6c6666;cursor:pointer}.buttons_container .save{display:flex;justify-content:center;align-items:center;background-color:rgba(255,255,255,.9019607843);height:40px;width:70px;border-radius:20px;box-shadow:0 0 15px rgba(0,0,0,.3);color:#6c6666;cursor:pointer}.buttons_container .results{display:flex;justify-content:center;align-items:center;background-color:rgba(255,255,255,.9019607843);height:40px;width:70px;border-radius:20px;box-shadow:0 0 15px rgba(0,0,0,.3);color:#6c6666;cursor:pointer}.mute{display:flex;justify-content:center;align-items:center;width:80%;height:50px;margin:20px auto;background-color:rgba(255,255,255,.9019607843);color:#6c6666;border-radius:20px;cursor:pointer}.save_menu{display:flex;justify-content:center;align-items:center;width:80%;height:50px;margin:20px auto;background-color:rgba(255,255,255,.9019607843);color:#6c6666;border-radius:20px;cursor:pointer}.field_of_play_container{position:relative;margin:auto 10px;width:auto;height:90vw;max-height:360px;background-color:rgba(31,43,79,.2509803922);border-radius:15px;box-shadow:inset 0px 0px 52px -11px #000;overflow:hidden}.tiles{display:flex;justify-content:center;align-items:center;position:absolute;box-sizing:border-box;background-color:rgba(255,255,255,.9019607843);border-radius:13px;border:1px solid #66638b;cursor:pointer;font-size:25px;font-weight:600;z-index:1;color:#6c6666;box-shadow:0px 0px 22px 0px rgba(66,68,90,.24)}.hide_Last_tile{cursor:default;opacity:0;z-index:-1}.transition{transition:.2s}.tiles_x3{width:33.3333333333%;height:33.3333333333%}.tiles_x4{width:25%;height:25%}.tiles_x5{width:20%;height:20%}.tiles_x6{width:16.6666666667%;height:16.6666666667%}.tiles_x7{width:14.2857142857%;height:14.2857142857%}.tiles_x8{width:12.5%;height:12.5%;font-size:17px}.menu_container{position:relative;display:flex;width:100%;height:230px;top:-235px;background-color:rgba(84,83,101,.97);z-index:2;box-sizing:border-box;transition:.3s}.menu_open{top:0px}.form_size{width:40%;height:100%;display:grid;grid-template-columns:1fr 1fr}.form_size .size{display:flex;justify-content:center;align-items:center;color:rgba(255,255,255,.9019607843);font-size:25px;cursor:pointer}.form_size .radio_size{display:none}.form_size .radio_size:checked+.size{color:#62b9bd}.menu_buttons_container{width:60%}.popup_container{display:flex;justify-content:center;align-items:center;flex-direction:column;position:absolute;height:100%;width:100%;background-color:rgba(0,0,0,.48);z-index:2;border-radius:20px;opacity:0;transition:.3s}.popup_open{opacity:1}.yes_button{display:flex;justify-content:center;align-items:center;width:70%;height:15%;margin:10px;border-radius:40px;color:rgba(255,255,255,.9019607843);font-size:30px;cursor:pointer;background-color:rgba(210,145,46,.9294117647)}.no_button{display:flex;justify-content:center;align-items:center;width:70%;height:15%;margin:10px;border-radius:40px;color:rgba(255,255,255,.9019607843);font-size:30px;cursor:pointer;background-color:rgba(89,81,70,.9607843137)}.win{text-align:center;line-height:44px;transform:scale(0);transition:.3s}.win_open{transform:scale(1)}.results_container{position:absolute;display:flex;flex-direction:column;width:100%;height:380px;top:-385px;background-color:rgba(84,83,101,.97);z-index:3;box-sizing:border-box;transition:.3s}.results_container span{color:rgba(255,255,255,.9019607843);font-size:30px;letter-spacing:2px;text-align:center}.results_container .result{margin:7px;text-align:center;color:rgba(255,255,255,.9019607843);font-size:20px}.results_container h1{margin-top:30%;text-align:center;color:rgba(255,255,255,.9019607843)}.results_container_open{top:0px}",""]);const h=d},638:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",o=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),o&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),o&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,o,r,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(o)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);o&&a[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),r&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=r):u[4]="".concat(r)),t.push(u))}},t}},167:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},375:e=>{e.exports=function(e){return e[1]}},450:e=>{var t=[];function n(e){for(var n=-1,o=0;o<t.length;o++)if(t[o].identifier===e){n=o;break}return n}function o(e,o){for(var i={},a=[],s=0;s<e.length;s++){var c=e[s],l=o.base?c[0]+o.base:c[0],u=i[l]||0,p="".concat(l," ").concat(u);i[l]=u+1;var d=n(p),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==d)t[d].references++,t[d].updater(f);else{var m=r(f,o);o.byIndex=s,t.splice(s,0,{identifier:p,updater:m,references:1})}a.push(p)}return a}function r(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var i=o(e=e||[],r=r||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var s=n(i[a]);t[s].references--}for(var c=o(e,r),l=0;l<i.length;l++){var u=n(i[l]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}i=c}}},199:e=>{var t={};e.exports=function(e,n){var o=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},916:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},458:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},530:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,r&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(o,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},165:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},177:e=>{e.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27192%27 height=%27192%27 viewBox=%270 0 192 192%27%3E%3Cpath fill=%27%2360678b%27 fill-opacity=%270.4%27 d=%27M192 15v2a11 11 0 0 0-11 11c0 1.94 1.16 4.75 2.53 6.11l2.36 2.36a6.93 6.93 0 0 1 1.22 7.56l-.43.84a8.08 8.08 0 0 1-6.66 4.13H145v35.02a6.1 6.1 0 0 0 3.03 4.87l.84.43c1.58.79 4 .4 5.24-.85l2.36-2.36a12.04 12.04 0 0 1 7.51-3.11 13 13 0 1 1 .02 26 12 12 0 0 1-7.53-3.11l-2.36-2.36a4.93 4.93 0 0 0-5.24-.85l-.84.43a6.1 6.1 0 0 0-3.03 4.87V143h35.02a8.08 8.08 0 0 1 6.66 4.13l.43.84a6.91 6.91 0 0 1-1.22 7.56l-2.36 2.36A10.06 10.06 0 0 0 181 164a11 11 0 0 0 11 11v2a13 13 0 0 1-13-13 12 12 0 0 1 3.11-7.53l2.36-2.36a4.93 4.93 0 0 0 .85-5.24l-.43-.84a6.1 6.1 0 0 0-4.87-3.03H145v35.02a8.08 8.08 0 0 1-4.13 6.66l-.84.43a6.91 6.91 0 0 1-7.56-1.22l-2.36-2.36A10.06 10.06 0 0 0 124 181a11 11 0 0 0-11 11h-2a13 13 0 0 1 13-13c2.47 0 5.79 1.37 7.53 3.11l2.36 2.36a4.94 4.94 0 0 0 5.24.85l.84-.43a6.1 6.1 0 0 0 3.03-4.87V145h-35.02a8.08 8.08 0 0 1-6.66-4.13l-.43-.84a6.91 6.91 0 0 1 1.22-7.56l2.36-2.36A10.06 10.06 0 0 0 107 124a11 11 0 0 0-22 0c0 1.94 1.16 4.75 2.53 6.11l2.36 2.36a6.93 6.93 0 0 1 1.22 7.56l-.43.84a8.08 8.08 0 0 1-6.66 4.13H49v35.02a6.1 6.1 0 0 0 3.03 4.87l.84.43c1.58.79 4 .4 5.24-.85l2.36-2.36a12.04 12.04 0 0 1 7.51-3.11A13 13 0 0 1 81 192h-2a11 11 0 0 0-11-11c-1.94 0-4.75 1.16-6.11 2.53l-2.36 2.36a6.93 6.93 0 0 1-7.56 1.22l-.84-.43a8.08 8.08 0 0 1-4.13-6.66V145H11.98a6.1 6.1 0 0 0-4.87 3.03l-.43.84c-.79 1.58-.4 4 .85 5.24l2.36 2.36a12.04 12.04 0 0 1 3.11 7.51A13 13 0 0 1 0 177v-2a11 11 0 0 0 11-11c0-1.94-1.16-4.75-2.53-6.11l-2.36-2.36a6.93 6.93 0 0 1-1.22-7.56l.43-.84a8.08 8.08 0 0 1 6.66-4.13H47v-35.02a6.1 6.1 0 0 0-3.03-4.87l-.84-.43c-1.59-.8-4-.4-5.24.85l-2.36 2.36A12 12 0 0 1 28 109a13 13 0 1 1 0-26c2.47 0 5.79 1.37 7.53 3.11l2.36 2.36a4.94 4.94 0 0 0 5.24.85l.84-.43A6.1 6.1 0 0 0 47 84.02V49H11.98a8.08 8.08 0 0 1-6.66-4.13l-.43-.84a6.91 6.91 0 0 1 1.22-7.56l2.36-2.36A10.06 10.06 0 0 0 11 28 11 11 0 0 0 0 17v-2a13 13 0 0 1 13 13c0 2.47-1.37 5.79-3.11 7.53l-2.36 2.36a4.94 4.94 0 0 0-.85 5.24l.43.84A6.1 6.1 0 0 0 11.98 47H47V11.98a8.08 8.08 0 0 1 4.13-6.66l.84-.43a6.91 6.91 0 0 1 7.56 1.22l2.36 2.36A10.06 10.06 0 0 0 68 11 11 11 0 0 0 79 0h2a13 13 0 0 1-13 13 12 12 0 0 1-7.53-3.11l-2.36-2.36a4.93 4.93 0 0 0-5.24-.85l-.84.43A6.1 6.1 0 0 0 49 11.98V47h35.02a8.08 8.08 0 0 1 6.66 4.13l.43.84a6.91 6.91 0 0 1-1.22 7.56l-2.36 2.36A10.06 10.06 0 0 0 85 68a11 11 0 0 0 22 0c0-1.94-1.16-4.75-2.53-6.11l-2.36-2.36a6.93 6.93 0 0 1-1.22-7.56l.43-.84a8.08 8.08 0 0 1 6.66-4.13H143V11.98a6.1 6.1 0 0 0-3.03-4.87l-.84-.43c-1.59-.8-4-.4-5.24.85l-2.36 2.36A12 12 0 0 1 124 13a13 13 0 0 1-13-13h2a11 11 0 0 0 11 11c1.94 0 4.75-1.16 6.11-2.53l2.36-2.36a6.93 6.93 0 0 1 7.56-1.22l.84.43a8.08 8.08 0 0 1 4.13 6.66V47h35.02a6.1 6.1 0 0 0 4.87-3.03l.43-.84c.8-1.59.4-4-.85-5.24l-2.36-2.36A12 12 0 0 1 179 28a13 13 0 0 1 13-13zM84.02 143a6.1 6.1 0 0 0 4.87-3.03l.43-.84c.8-1.59.4-4-.85-5.24l-2.36-2.36A12 12 0 0 1 83 124a13 13 0 1 1 26 0c0 2.47-1.37 5.79-3.11 7.53l-2.36 2.36a4.94 4.94 0 0 0-.85 5.24l.43.84a6.1 6.1 0 0 0 4.87 3.03H143v-35.02a8.08 8.08 0 0 1 4.13-6.66l.84-.43a6.91 6.91 0 0 1 7.56 1.22l2.36 2.36A10.06 10.06 0 0 0 164 107a11 11 0 0 0 0-22c-1.94 0-4.75 1.16-6.11 2.53l-2.36 2.36a6.93 6.93 0 0 1-7.56 1.22l-.84-.43a8.08 8.08 0 0 1-4.13-6.66V49h-35.02a6.1 6.1 0 0 0-4.87 3.03l-.43.84c-.79 1.58-.4 4 .85 5.24l2.36 2.36a12.04 12.04 0 0 1 3.11 7.51A13 13 0 1 1 83 68a12 12 0 0 1 3.11-7.53l2.36-2.36a4.93 4.93 0 0 0 .85-5.24l-.43-.84A6.1 6.1 0 0 0 84.02 49H49v35.02a8.08 8.08 0 0 1-4.13 6.66l-.84.43a6.91 6.91 0 0 1-7.56-1.22l-2.36-2.36A10.06 10.06 0 0 0 28 85a11 11 0 0 0 0 22c1.94 0 4.75-1.16 6.11-2.53l2.36-2.36a6.93 6.93 0 0 1 7.56-1.22l.84.43a8.08 8.08 0 0 1 4.13 6.66V143h35.02z%27%3E%3C/path%3E%3C/svg%3E"},531:(e,t,n)=>{e.exports=n.p+"./dependencies/img/burger_menu.svg"},163:(e,t,n)=>{e.exports=n.p+"./dependencies/styles/bese/font/Roboto-Regular.ttf"}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={id:o,exports:{}};return e[o](i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var o=t.getElementsByTagName("script");o.length&&(e=o[o.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b=document.baseURI||self.location.href,n.nc=void 0,(()=>{var e=n(450),t=n.n(e),o=n(530),r=n.n(o),i=n(199),a=n.n(i),s=n(458),c=n.n(s),l=n(916),u=n.n(l),p=n(165),d=n.n(p),f=n(466),m={};function g(e,t,n,o){const r=document.createElement(`${e}`);return"-"!==t&&void 0!==t&&r.classList.add(`${t}`),"-"!==n&&void 0!==n&&(r.innerHTML+=`${n}`),void 0!==o&&r.setAttribute(`${o[0]}`,`${o[1]}`),r}function h(){const e=document.querySelector(".field_of_play_container").lastElementChild,t=e.offsetWidth,n=[],o=document.querySelectorAll(".tiles");for(const r of o)r.offsetLeft!==e.offsetLeft&&r.offsetTop!==e.offsetTop||!(Math.abs(r.offsetLeft-e.offsetLeft)===t&&Math.abs(r.offsetTop-e.offsetTop)!==t||Math.abs(r.offsetLeft-e.offsetLeft)!==t&&Math.abs(r.offsetTop-e.offsetTop)===t)||n.push(r);return n.sort((()=>Math.random()-.5))}m.styleTagTransform=d(),m.setAttributes=c(),m.insert=a().bind(null,"head"),m.domAPI=r(),m.insertStyleElement=u(),t()(f.Z,m),f.Z&&f.Z.locals&&f.Z.locals;const b={get id(){return this.val},set id(e){this.val=e}},x={get Open(){return this.val},set Open(e){this.val=e}},y={},v={get Open(){return this.val},set Open(e){this.val=e}};function _(){const e=document.querySelector(".time"),t=e.innerHTML.split(":");let n=+t[0],o=+t[1]+1;60===o&&(o=0,n++),e.innerHTML=`${n>9?n:`0${n}`}:${o>9?o:`0${o}`}`}function S(e){document.querySelector(".container").prepend(g("div","popup_container"));const t=document.querySelector(".popup_container"),n=()=>{t.classList.add("popup_open")},o=()=>{t.classList.remove("popup_open"),setTimeout((()=>t.remove()),350)};if("startSaveGame"===e&&(t.append(g("h2","-","Continue saved game?")),t.append(g("div","yes_button","Yes")),t.append(g("div","no_button","No")),setTimeout(n,40),t.addEventListener("click",(e=>{e.target.classList.contains("yes_button")&&(function(){const e=document.querySelector(".field_of_play_container"),t=document.querySelector(".start"),n=document.querySelector(".time"),o=document.querySelector(".counter");let r=Object.values(JSON.parse(localStorage.getItem("GemPuzzlePosition")));M(Math.sqrt(r.length));const i=document.querySelectorAll(".tiles");r=r.map((e=>e.split(":")));for(let e=0;e<i.length;e++)i[e].style.cssText=`\n                            left: ${r[e][1]};\n                             top: ${r[e][0]};`;n.innerHTML=localStorage.getItem("GemPuzzleTimer"),o.innerHTML=localStorage.getItem("GemPuzzleCount"),t.innerHTML="Restart";const a=JSON.parse(localStorage.getItem("WinPosition"));for(const e in a)y[e]=a[e];e.addEventListener("click",z),b.id=setInterval(_,1e3)}(),o(),L()),e.target.classList.contains("no_button")&&(o(),L())}))),"win"===e){t.append(g("h2","win")),setTimeout(n,40);const e=document.querySelector(".win"),r=document.querySelector(".time").innerHTML,i=document.querySelector(".counter").innerHTML;e.innerHTML=`Hooray! <br> You solved the <br> puzzle in <br> ${r} and ${i} moves!`,setTimeout((()=>e.classList.add("win_open")),10),t.addEventListener("click",o)}"save"===e&&(t.append(g("h2","_","Game saved")),setTimeout(n,40),setTimeout(o,700))}function L(){localStorage.removeItem("GemPuzzlePosition"),localStorage.removeItem("GemPuzzleCount"),localStorage.removeItem("GemPuzzleTimer"),localStorage.removeItem("WinPosition")}function T(){const e=document.querySelector(".buttons_container"),t=g("div","results","Results");e.append(t)}function w(){const e=document.querySelector(".field_of_play_container"),t=document.querySelector(".stop"),n=document.querySelector(".start");if("Continue"===t.innerHTML)return t.innerHTML="Stop",b.id=setInterval(_,1e3),void e.addEventListener("click",z);"Stop"===t.innerHTML&&"Restart"===n.innerHTML&&(t.innerHTML="Continue",clearInterval(b.id),e.removeEventListener("click",z))}function M(e=4){const t=document.querySelector(".field_of_play_container"),n=document.querySelectorAll(".tiles");if(void 0!==n)for(const e of n)e.classList.contains("tiles")&&e.remove();for(let n=1;n<=e*e;n++)t.append(g("div","tiles",`${n}`));!function(e){document.querySelectorAll(".tiles").forEach((t=>{t.classList.add(`tiles_x${e}`)}))}(e),t.lastElementChild.classList.add("hide_Last_tile"),function(e=function(e){const t=[];let n=[];for(let o=0,r=0;o<=e.length;o++)n.push(e[o]),r++,r>=Math.sqrt(e.length)&&(t.push(n),n=[],r=0);return t}(document.querySelectorAll(".tiles"))){const t=e[0][0].offsetWidth;for(let n=0;n<e.length;n++)for(let o=0;o<e[n].length;o++)e[n][o].style.cssText=`\n                                        left: ${o*t}px;\n                                        top: ${n*t}px;\n                                        `}()}function z(e){const t=document.querySelectorAll(".tiles");t.forEach((e=>e.classList.add("transition")));const n=t[t.length-1],o=e.target.offsetLeft,r=e.target.offsetTop,i=document.querySelector(".counter");e.target.classList.contains("tiles")&&e.target!==n&&h().includes(e.target)&&(e.target.style.cssText=`\n                                    left: ${n.offsetLeft}px;\n                                    top: ${n.offsetTop}px;\n            `,n.style.cssText=`\n                                        left: ${o}px;\n                                        top: ${r}px;\n            `,i.innerHTML=+i.innerHTML+1,function(){const e=document.querySelector("audio");"Mute : ON"===document.querySelector(".mute").innerHTML&&e.play()}()),setTimeout(q,250)}function H(){const e=Object.keys(y);for(let t=0;t<e.length;t++)delete y[e[t]];document.querySelectorAll(".tiles").forEach((e=>{const t=getComputedStyle(e);y[e.innerHTML]=`${t.top}:${t.left}`}))}function q(){const e=document.querySelectorAll(".tiles"),t={};let n=0;e.forEach((e=>{const n=getComputedStyle(e);t[e.innerHTML]=`${n.top}:${n.left}`}));for(let o=0;o<e.length;o++)Object.values(t)[o]===Object.values(y)[o]&&n++;if(n===e.length){const e=document.querySelector(".start"),t=document.querySelector(".stop"),n=document.querySelector(".time"),o=document.querySelector(".counter");!function(){const e=document.querySelector(".counter"),t=document.querySelector(".time"),n=+e.innerHTML+ +t.innerHTML.split(":")[1]+60*+t.innerHTML.split(":")[0],o={};if(o[`${n}`]=`${t.innerHTML} ${e.innerHTML}`,null!==localStorage.getItem("Result")){const o=JSON.parse(localStorage.getItem("Result"));o[`${n}`]=`${t.innerHTML} ${e.innerHTML}`,localStorage.Result=JSON.stringify(o)}else localStorage.setItem("Result",JSON.stringify(o));if(Object.keys(JSON.parse(localStorage.getItem("Result"))).length>10){const e=Object.entries(JSON.parse(localStorage.getItem("Result"))).filter(((e,t)=>e[0]!==t[0])).sort(((e,t)=>e[0]>t[0]));e.length=10,localStorage.setItem("Result",JSON.stringify(Object.fromEntries(e)))}}(),S("win"),w(),clearInterval(b.id),t.innerHTML="Stop",e.innerHTML="Start",n.innerHTML="00:00",o.innerHTML="0"}}function $(e=100){const t=document.querySelectorAll(".tiles");t.forEach((e=>e.classList.remove("transition")));const n=t[t.length-1];let o=t[t.length-2].innerHTML;for(let t=0,r=0;t<e;t++){const e=h();r=e[r].innerHTML===o?1:0;const t=e[r].offsetLeft,i=e[r].offsetTop;e[r].style.cssText=`\n                            left: ${n.offsetLeft}px;\n                            top: ${n.offsetTop}px;\n        `,n.style.cssText=`\n                                left: ${t}px;\n                                top: ${i}px;\n        `,o=e[r].innerHTML}}function O(){const e=document.querySelector(".field_of_play_container"),t=document.querySelector(".start"),n=document.querySelector(".stop"),o=document.querySelector(".time"),r=document.querySelector(".counter");"Start"===t.innerHTML?($(),t.innerHTML="Restart",e.addEventListener("click",z),b.id=setInterval(_,1e3)):"Continue"===n.innerHTML?(e.addEventListener("click",z),b.id=setInterval(_,1e3),n.innerHTML="Stop",t.innerHTML="Restart",o.innerHTML="00:00",r.innerHTML="0",$()):(o.innerHTML="00:00",r.innerHTML="0",$())}function A(){document.querySelector(".buttons_container").append(g("div","menu"))}!function(){const e=g("div","container");document.body.prepend(e);const t=g("div","time_and_counter_container");e.append(t);const n=g("div","counter","0");t.append(n);const o=g("h1","-","Gem Puzzle");t.append(o);const r=g("div","time","00:00");t.append(r);const i=g("div","buttons_container");e.append(i),function(){const e=document.querySelector(".buttons_container"),t=g("div","start","Start");e.append(t)}(),document.querySelector(".buttons_container").append(g("div","stop","Stop")),window.innerWidth>380?(A(),T()):(T(),A());const a=g("div","field_of_play_container");e.append(a),function(){document.querySelector(".field_of_play_container").prepend(g("div","menu_container")),document.querySelector(".menu_container").append(g("form","form_size","-",["id","size"]));const e=document.querySelector("#size");for(let t=3;t<=8;t++){const n=g("label","size",`${t}x${t}`,["for",`s${t}`]);n.setAttribute("name","size");const o=g("input","radio_size","-",["type","radio"]);o.setAttribute("name","size"),o.setAttribute("id",`s${t}`),o.value=`${t}`,4===t&&(o.checked=!0),e.append(o),e.append(n)}}(),M(),document.querySelector(".menu_container").append(g("div","menu_buttons_container")),function(){document.querySelector(".menu_buttons_container").append(g("div","mute","Mute : ON"));const e=document.querySelector(".mute");e.onclick=()=>{"Mute : ON"===e.innerHTML?e.innerHTML="Mute : OFF":e.innerHTML="Mute : ON"},document.body.append(g("audio")),document.querySelector("audio").src="./audio/click.mp3"}(),window.innerWidth>380?document.querySelector(".buttons_container").append(g("div","save","Save")):document.querySelector(".menu_buttons_container").append(g("div","save_menu","Save"))}(),H(),null!==localStorage.getItem("GemPuzzlePosition")&&S("startSaveGame"),document.body.addEventListener("click",(e=>{e.target.classList.contains("start")&&O(),e.target.classList.contains("stop")&&w(),(x.Open||e.target.classList.contains("menu"))&&(x.Open?function(){x.Open=!1;const e=document.querySelector(".menu_container");e.classList.contains("menu_open"),e.classList.remove("menu_open")}():(document.querySelector(".menu_container").classList.add("menu_open"),x.Open=!0)),"Save"===e.target.innerHTML&&function(){const e=document.querySelectorAll(".tiles"),t=document.querySelector(".counter"),n=document.querySelector(".time");if("00:00"===n.innerHTML)return;S("save");const o={};e.forEach((e=>{const t=getComputedStyle(e);o[e.innerHTML]=`${t.top}:${t.left}`})),localStorage.setItem("GemPuzzlePosition",JSON.stringify(o)),localStorage.setItem("GemPuzzleCount",t.innerHTML),localStorage.setItem("GemPuzzleTimer",n.innerHTML),localStorage.setItem("WinPosition",JSON.stringify(y))}(),"size"===e.target.getAttribute("name")&&(M(document.forms.size.elements.size.value),H(),O()),(v.Open||e.target.classList.contains("results"))&&(v.Open?function(){if(v.Open){const e=document.querySelector(".results_container");e.classList.remove("results_container_open"),setTimeout((()=>e.remove()),350),v.Open=!1}}():function(){if(!v.Open){const e=JSON.parse(localStorage.getItem("Result"));document.querySelector(".field_of_play_container").prepend(g("div","results_container"));const t=document.querySelector(".results_container");let n=1;if(null!==localStorage.getItem("Result"))for(const o in e){const r=e[o].split(" ");t.append(g("div","result",`${n}.\n                                             --- Time: ${r[0]} --- Moves: ${r[1]}`)),n++}else t.append(g("h1","-","No finished games <br> =("));n=1,setTimeout((()=>t.classList.add("results_container_open")),40),v.Open=!0}}())}))})()})();